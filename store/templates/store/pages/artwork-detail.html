{% extends "base.html" %} {% load static %} {% load custom_tags %} 

{% block title %} Galerie - Détail oeuvre {% endblock title %}

{% block content %} 

{% breadcrumb artwork.title "Détail de l'oeuvre" user %}

<!-- single artwork -->
<section
  class="single-artwork mt-8 pt-4 pb-5 about wow animate__animated animate__fadeIn"
  data-wow-delay="0.3s"
  x-data="{ currentTab: 'details' }"
  x-cloak
>
  <div class="container mx-auto">
    <div class="flex justify-center items-start gap-4 pb-2 w-full">
      <div
        class="single-artwork-img wow animate__animated animate__slideInLeft"
      >
        <img src="{{ artwork.thumbnail }}" alt="{{ artwork.title }}" />
      </div>
      <div class="single-artwork-text wow animate__animated animate__slideInRight">
        <div class="subtitle mb-8">
          <h2 class="mt-3 mb-4"><span>{{artwork.title}}</span></h2>
          <div class="subtitle-line"></div>
        </div>
        <!-- Onglets -->
        <div class="mb-4 flex gap-3">
          <button
            type="button"
            class="tab"
            :class="{ 'active' : currentTab === 'details' }"
            x-on:click="currentTab = 'details'"
          >
            Détails de l'oeuvre
          </button>
          <button
            type="button"
            class="tab ml-4"
            :class="{ 'active': currentTab === 'related' }"
            x-on:click="currentTab = 'related'"
          >
            Oeuvres liées
          </button>
        </div>
        <div><!-- Mettre une tabulation ici --></div>

        <button
          type="button"
          class="btn btn-black"
          x-data="cartHandler()"
          x-on:click="addToCart($event)"
          data-artwork-id="{{ artwork.id }}"
        >
          Ajouter au panier
        </button>
      </div>
    </div>
  </div>
</section>
<!-- end single artwork -->

<!-- more artworks -->
{% if related_artworks %}

<section
  class="mt-8 pt-4 pb-5 container mx-auto wow animate__animated animate__fadeIn"
  data-wow-delay="0.3s"
>
  <div class="flex items-center justify-center flex-col">
    <div class="flex items-center flex-col subtitle mb-8">
      <h2 class="text-center mb-4">Decouvrir <span>Aussi !</span></h2>
      <div class="subtitle-line"></div>
    </div>

    <div class="grid-container">
      {% for r_artwork in related_artworks %} 
      
      {% artworkCard r_artwork %}
      
      {% endfor %}
    </div>
    <a
      href="{% url 'store:gallery' %}"
      class="btn btn-red mt-8 wow animate__animated animate__zoomIn"
      >Voir Plus</a
    >
  </div>
</section>

{% endif %}
<!-- end more artworks -->

{% endblock content %}
