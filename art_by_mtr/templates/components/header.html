{% load static %}
<header
  x-data="{ isSticky: false, showCart: false }"
  x-init="window.addEventListener('scroll', () => isSticky = window.scrollY > 50)"
  x-bind:class="{ 'bg-gray-900 shadow-lg': isSticky, 'bg-transparent': !isSticky }"
  class="wow animate__animated animate__fadeIn"
  id="sticker"
>
  <div class="container mx-auto flex justify-between items-center">
    <!-- logo -->
    <a href="{% url 'store:home' %}">
      <img src="{% static 'img/logo.png' %}" width="60" alt="logo" />
    </a>
    <!-- logo -->

    <!-- menu start -->
    <nav class="navbar">
      <ul class="flex items-center">
        <li>
          <a
            href="{% url 'store:home' %}"
            class="{% if request.path == '/' %}active text-red-600{% else %}text-white{% endif %}"
            x-bind:class="{ 'text-white': isSticky, 'text-black': !isSticky }"
            >Accueil</a
          >
        </li>
        <li>
          <a
            href="{% url 'store:about' %}"
            class="{% if request.path == '/about/' %}active text-red-600{% else %}text-white{% endif %}"
            x-bind:class="{ 'text-white': isSticky, 'text-black': !isSticky }"
            >A Propos</a
          >
        </li>
        <li>
          <a
            href="{% url 'store:gallery' %}"
            class="{% if request.path == '/gallery/' %}active text-red-600{% else %}text-white{% endif %}"
            x-bind:class="{ 'text-white': isSticky, 'text-black': !isSticky }"
            >Boutique</a
          >
        </li>
        <li>
          <a
            href="news.html"
            class="{% if request.path == '/news/' %}active text-red-600{% else %}text-white{% endif %}"
            x-bind:class="{ 'text-white': isSticky, 'text-black': !isSticky }"
            >Blog</a
          >
        </li>
        <li>
          <a
            href="{% url 'store:contact' %}"
            class="{% if request.path == '/contact/' %}active text-red-600{% else %}text-white{% endif %}"
            x-bind:class="{ 'text-white': isSticky, 'text-black': !isSticky }"
            >Contact</a
          >
        </li>

        <li>
          {% if user.is_authenticated %}
          <div class="flex items-center justify-center gap-3">
            <button type="button" @click="showCart = true" class="text-white bg-transparent border-none" title="voir le panier">
              <i class="bx bx-cart text-2xl"></i>
            </button>
            <i class="bx bx-user text-2xl text-white"></i>
          </div>
          {% else %}
          <a href="{% url 'accounts:login' %}" class="btn btn-red">Se connecter</a>
          {% endif %}
        </li>
      </ul>
    </nav>
    <div class="mobile-menu">
      <i class="bx bx-menu text-black"></i>
    </div>
    <!-- menu end -->
  </div>

  <!-- Modal for Cart -->
  <div x-show="showCart" class="cart-preview shadow-md rounded px-2 py-3">
    <div class="relative ">
      <button  type="button" @click="showCart = false" class="absolute top-0 right-0 mb-2 mr-4 border-none bg-transparent text-gray-600" title="voir le panier">
        <i class="bx bx-x text-2xl"></i>
      </button>
      <h2 class="text-lg font-bold mb-4 text-center">Panier</h2>
      <ul>
        <li>Produit 1</li>
        <li>Produit 2</li>
        <li>Produit 3</li>
      </ul>
      <a href="{% url 'store:cart' %}" class="mt-4 btn btn-red">Voir le panier</a>
    </div>
  </div>
  <!-- End Modal for Cart -->
</header>
